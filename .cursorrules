# Upptime Project Rules

## SaaS ëª¨ë‹ˆí„°ë§ ì¶”ê°€ ê·œì¹™

ìƒˆë¡œìš´ SaaS ì„œë¹„ìŠ¤ë¥¼ ì¶”ê°€í•  ë•ŒëŠ” **ë°˜ë“œì‹œ** ë‹¤ìŒ ë‘ íŒŒì¼ì„ ëª¨ë‘ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤:

### 1. .upptimerc.yml
- `sites` ì„¹ì…˜ì— ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ ì¶”ê°€
- í˜•ì‹:
  ```yaml
  - name: [ì„œë¹„ìŠ¤ëª…] Status
    url: https://status.[ì„œë¹„ìŠ¤ë„ë©”ì¸]
  ```

### 2. .github/workflows/slack-notification.yml
- ìƒˆë¡œìš´ ì²´í¬ step ì¶”ê°€
- Slack ì•Œë¦¼ ë©”ì‹œì§€ì— í•´ë‹¹ ì„œë¹„ìŠ¤ ìƒíƒœ ì¶”ê°€
- í•„ìš”í•œ ìˆ˜ì • ì‚¬í•­:
  1. `Check [ì„œë¹„ìŠ¤ëª…] Status` step ì¶”ê°€ (curlë¡œ ìƒíƒœ ì²´í¬)
  2. `Send Slack Notification` stepì˜ ìƒíƒœ ì²´í¬ ë¡œì§ ì¶”ê°€
  3. Slack payloadì˜ `fields` ë°°ì—´ì— ìƒˆ ì„œë¹„ìŠ¤ ì¶”ê°€

## ì˜ˆì‹œ: ìƒˆë¡œìš´ SaaS ì¶”ê°€ ì‹œ

ë§Œì•½ "Notion"ì„ ì¶”ê°€í•œë‹¤ë©´:

### .upptimerc.yml
```yaml
sites:
  # ... ê¸°ì¡´ ì„œë¹„ìŠ¤ë“¤
  - name: Notion Status
    url: https://status.notion.so
```

### slack-notification.yml
```yaml
# 1. Check step ì¶”ê°€
- name: Check Notion Status
  id: notion
  continue-on-error: true
  run: |
    STATUS_CODE=$(curl -s -o /dev/null -w "%{http_code}" --max-time 10 https://status.notion.so || echo "000")
    RESPONSE_TIME=$(curl -s -o /dev/null -w "%{time_total}" --max-time 10 https://status.notion.so || echo "0")
    echo "status_code=$STATUS_CODE" >> $GITHUB_OUTPUT
    echo "response_time=$RESPONSE_TIME" >> $GITHUB_OUTPUT

# 2. ìƒíƒœ ì²´í¬ ë¡œì§ ì¶”ê°€ (Send Slack Notification step ì•ˆì—)
NOTION_STATUS="${{ steps.notion.outputs.status_code }}"
NOTION_TIME="${{ steps.notion.outputs.response_time }}"
if [ "$NOTION_STATUS" -ge 200 ] && [ "$NOTION_STATUS" -lt 400 ]; then
  NOTION_EMOJI="ğŸŸ¢"
  NOTION_TEXT="UP"
else
  NOTION_EMOJI="ğŸ”´"
  NOTION_TEXT="DOWN"
fi

# 3. Slack payload fieldsì— ì¶”ê°€
{
  "title": "${NOTION_EMOJI} Notion Status",
  "value": "Status: ${NOTION_TEXT} (${NOTION_STATUS})\nResponse: ${NOTION_TIME}s",
  "short": true
}
```

## í˜„ì¬ ëª¨ë‹ˆí„°ë§ ì¤‘ì¸ ì„œë¹„ìŠ¤

1. Docker Status - https://www.dockerstatus.com
2. AWS Status - https://status.aws.amazon.com
3. Atlassian Status (Confluence & Jira) - https://status.atlassian.com
4. Slack Status - https://status.slack.com
5. GitHub Status - https://www.githubstatus.com
6. OpenAI Status - https://status.openai.com

## Slack ì•Œë¦¼ ì„¤ì •

í•„ìš”í•œ GitHub Secrets:
- `SLACK_WEBHOOK_URL`: Slack Incoming Webhook URL
- `SLACK_CHANNEL`: ì•Œë¦¼ì„ ë°›ì„ Slack ì±„ë„ (ì˜ˆ: #monitoring)

## ì›Œí¬í”Œë¡œìš° ì‹¤í–‰

- ìë™ ì‹¤í–‰: í˜„ì¬ ë¹„í™œì„±í™” (schedule ì£¼ì„ì²˜ë¦¬ë¨)
- ìˆ˜ë™ ì‹¤í–‰: GitHub Actions â†’ "Slack Notification" â†’ "Run workflow"

## ì£¼ì˜ì‚¬í•­

- ëª¨ë“  SaaS ì¶”ê°€ ì‹œ ë‘ íŒŒì¼ì„ **ë™ì‹œì—** ì—…ë°ì´íŠ¸í•´ì•¼ í•¨
- Slack ì•Œë¦¼ì—ì„œ ëˆ„ë½ë˜ì§€ ì•Šë„ë¡ ì£¼ì˜
- ì„œë¹„ìŠ¤ URLì€ ê°€ëŠ¥í•œ ê³µì‹ status í˜ì´ì§€ ì‚¬ìš©
- ê° ì„œë¹„ìŠ¤ì˜ idëŠ” ì†Œë¬¸ìë¡œ ì‘ì„± (ì˜ˆ: github, aws, notion)

